<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--<link rel="stylesheet" href="reset.css">-->
    <!--video兼容各个浏览器-->
    <!--<script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"> </script>-->
    <!--<script src="http://html5media.googlecode.com/svn/trunk/src/html5media.min.js"></script>-->
    <!--<script src="http://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>-->
    <!--<script src="http://vjs.zencdn.net/5.8.8/video.js"></script>-->
    <title>横琴人寿 让未来可见</title>
    <style>
        html,body{
            margin:0;
            padding:0;
        }
        #video{
            display:block;
            margin: 100px auto 0;
            width:80%;
            height:auto;
        }
    </style>
</head>
<body>
<div id="app">
    <div>video5</div>
    <video src="http://static.e-hqins.com/cms/material/hq-video-qf.mp4" id="video" controls="controls" autoplay="autoplay">
    <!--<video controls class="video" controls="controls" src="http://www.zhangxinxu.com/study/media/cat.mp4"  poster="/Images/treatment/reenex2.png">-->
        <!--<source src="http://cms-dev-os-01.oss-cn-szfinance.aliyuncs.com/cms/material/hengqin_PF.mp3?d=1533779952000" type="video/webm">-->
        <source src="http://static.e-hqins.com/cms/material/hq-video-qfogg.ogg" type="video/ogg">
        <source src="http://static.e-hqins.com/cms/material/hq-video-qf.mp4" type="video/mp4" >
        Your browser does not support the video tag.
    </video>
    <!--<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>-->
    <script>
        (function() {
            function log(info) {
                console.log(info);
                // alert(info);
            }
            function forceSafariPlayAudio() {
                videoEl.load(); // iOS 9   还需要额外的 load 一下, 否则直接 play 无效
                videoEl.play(); // iOS 7/8 仅需要 play 一下
            }

            var videoEl = document.getElementById('video');

            // 可以自动播放时正确的事件顺序是
            // loadstart
            // loadedmetadata
            // loadeddata
            // canplay
            // play
            // playing
            //
            // 不能自动播放时触发的事件是
            // iPhone5  iOS 7.0.6 loadstart
            // iPhone6s iOS 9.1   loadstart -> loadedmetadata -> loadeddata -> canplay
            videoEl.addEventListener('loadstart', function() {
                log('loadstart');
            }, false);
            videoEl.addEventListener('loadeddata', function() {
                log('loadeddata');
            }, false);
            videoEl.addEventListener('loadedmetadata', function() {
                log('loadedmetadata');
            }, false);
            videoEl.addEventListener('canplay', function() {
                log('canplay');
            }, false);
            videoEl.addEventListener('play', function() {
                log('play');
                // 当 audio 能够播放后, 移除这个事件
                window.removeEventListener('touchstart', forceSafariPlayAudio, false);
            }, false);
            videoEl.addEventListener('playing', function() {
                log('playing');
            }, false);
            videoEl.addEventListener('pause', function() {
                log('pause');
            }, false);

            // 由于 iOS Safari 限制不允许 audio autoplay, 必须用户主动交互(例如 click)后才能播放 audio,
            // 因此我们通过一个用户交互事件来主动 play 一下 audio.
            window.addEventListener('touchstart', forceSafariPlayAudio, false);
            videoEl.src = 'http://static.e-hqins.com/cms/material/hq-video-qf.mp4';
        })();
    </script>

</div>
</body>
</html>
